<div class="selfie-page">
  <div class="selfie-page__container">
    <app-navigation
      [backButtonText]="backButton()"
      (backClick)="goBack()"
    ></app-navigation>

    <main class="selfie-page__main">
      <app-title-section
        [titlePrefix]="titlePrefix()"
        [titleHighlight]="titleHighlight()"
        [showSuccess]="isCaptured"
        [successTitle]="successTitle()"
      ></app-title-section>

      <div class="selfie-page__camera-container">
        <app-camera
          type="selfie"
          [isActive]="isCameraActive && !isCaptured"
          (imageCaptured)="onImageCaptured($event)"
          (cameraError)="onCameraError($event)"
        ></app-camera>
      </div>
    </main>

    @if (errorMessage) {
    <div class="selfie-page__error">
      <p class="selfie-page__error__message">{{ errorMessage }}</p>
      <button class="selfie-page__error__retry" (click)="retryCapture()">
        {{ retryButton() }}
      </button>
      <button
        class="selfie-page__error__permissions"
        (click)="requestPermissions()"
      >
        Solicitar Permisos de CÃ¡mara
      </button>
    </div>
    }
  </div>
</div>
